\documentclass{scrreprt}
\usepackage[shellescape]{gmp}
\begin{document}

    \chapter{Wayside Controller}
    \section{Use Cases}

    \begin{center}
        \resizebox{!}{.8\textheight}{
            \begin{mpost}
                input metauml;
                vardef drawComponentVisualStereotype(text ne)= relax enddef;
                Actor.ctc("CTC");
                Actor.weng("Wayside", "Engineer");
                Actor.simrunner("Simulation", "Runner");
                %======== CTC Uses =========
                Usecase.uGetOcc      ("Get Occupancy");
                Usecase.uGetStatus   ("Get Block Status");
                Usecase.uGetSig      ("Get Signal");
                Usecase.uGetCross    ("Get Crossing");
                Usecase.uGetSwitch   ("Get Switch State");
                Usecase.uSetStatus   ("Set Block Status");
                Usecase.uToggleSwitch("Toggle Switch");
                Usecase.uSuggest     ("Suggest Speed", "& Authority");
                %======== Wayside Engineer Uses =========
                Usecase.uPLC("Upload PLC");
                %======== SimRunner Uses =========
                Usecase.uManSuggest("Manual Suggestion");
                Usecase.uViewData("View Track State");
                Usecase.uMultWindow("Open Multiple", "Windows");
                %======== This Component? =========
                Component.Wayside("WaysideController")(
                    uGetOcc,
                    uGetStatus,
                    uGetSig,
                    uGetCross,
                    uGetSwitch,
                    uSetStatus,
                    uToggleSwitch,
                    uSuggest,
                    uPLC,
                    uManSuggest,
                    uViewData,
                    uMultWindow
                );
                %======== CTC use cases ========
                topToBottom.left(10)(
                    uGetOcc,
                    uGetStatus,
                    uGetSig,
                    uGetCross,
                    uGetSwitch,
                    uSetStatus,
                    uToggleSwitch,
                    uSuggest
                );
                leftToRight(25)(ctc, uGetCross);
                %======== WaysideEngineer/SimRunner use cases ========
                topToBottom.right(10)(
                    uManSuggest,
                    uViewData,
                    uMultWindow
                );
                leftToRight(70)(uGetOcc, uPLC);
                leftToRight(25)(uPLC, weng);
                leftToRight(25)(uViewData, simrunner);
                topToBottom(100)(weng, simrunner);
                %======== Draw that shit!! ========
                drawObjects(
                    ctc,weng,simrunner,TrackModel,
                    uGetOcc,
                    uGetStatus,
                    uGetSig,
                    uGetCross,
                    uGetSwitch,
                    uSetStatus,
                    uToggleSwitch,
                    uSuggest,
                    uPLC,
                    uManSuggest,
                    uViewData,
                    uMultWindow
                );
                %======== CTC Lines ========
                link(association)(pathCut(ctc, uGetOcc)      (ctc.e -- uGetOcc.w));
                link(association)(pathCut(ctc, uGetStatus)   (ctc.e -- uGetStatus.w));
                link(association)(pathCut(ctc, uGetSig)      (ctc.e -- uGetSig.w));
                link(association)(pathCut(ctc, uGetCross)    (ctc.e -- uGetCross.w));
                link(association)(pathCut(ctc, uGetSwitch)   (ctc.e -- uGetSwitch.w));
                link(association)(pathCut(ctc, uSetStatus)   (ctc.e -- uSetStatus.w));
                link(association)(pathCut(ctc, uToggleSwitch)(ctc.e -- uToggleSwitch.w));
                link(association)(pathCut(ctc, uSuggest)     (ctc.e -- uSuggest.w));
                %======== WaysdideEng Lines ========
                link(association)(pathCut(weng, uPLC)(weng.w -- uPLC.e));
                %======== SimRunner Lines ========
                link(association)(pathCut(simrunner, uManSuggest)(simrunner.w -- uManSuggest.e));
                link(association)(pathCut(simrunner, uViewData)(simrunner.w -- uViewData.e));
                link(association)(pathCut(simrunner, uMultWindow)(simrunner.w -- uMultWindow.e));
            \end{mpost}
        }
    \end{center}

\providecommand{\use}[1]{\subsection{Use Case: #1}}

    %========= CTC User Stories ========
    \use{Get Occupancy}
    \begin{enumerate}
        \item 
    \end{enumerate}

    \use{Get Block Status}
    \begin{enumerate}
        \item 
    \end{enumerate}

    \use{Get Signal}
    \begin{enumerate}
        \item 
    \end{enumerate}

    \use{Get Crossing}
    \begin{enumerate}
        \item 
    \end{enumerate}

    \use{Get Switch State}
    \begin{enumerate}
        \item 
    \end{enumerate}

    \use{Set Block Status}
    \begin{enumerate}
        \item 
    \end{enumerate}

    \use{Toggle Switch State}
    \begin{enumerate}
        \item 
    \end{enumerate}

    \use{Suggest Speed \& Authority}
    \begin{enumerate}
        \item 
    \end{enumerate}

    %========== Wayside Users =========
    \use{Upload PLC}
    \begin{enumerate}
        \item 
    \end{enumerate}

    \use{Manually Suggest Speed \& Authority}
    \begin{enumerate}
        \item 
    \end{enumerate}

    \use{View Track State}
    \begin{enumerate}
        \item 
    \end{enumerate}

    \use{Open Multiple Wayside Contolle Windows}
    \begin{enumerate}
        \item 
    \end{enumerate}
\end{document}